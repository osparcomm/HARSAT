<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="harsat">
<title>Reference table file formats • harsat</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Reference table file formats">
<meta property="og:description" content="harsat">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">harsat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/harsat.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Data file management</h6>
    <a class="dropdown-item" href="../articles/file-management.html">File locations</a>
    <a class="dropdown-item" href="../articles/reference-file-formats.html">Reference file formats</a>
    <a class="dropdown-item" href="../articles/external-file-format.html">External file format</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Examples</h6>
    <a class="dropdown-item" href="../articles/example_HELCOM.html">HELCOM (read first)</a>
    <a class="dropdown-item" href="../articles/example_OSPAR.html">OSPAR</a>
    <a class="dropdown-item" href="../articles/example_external_data.html">AMAP external data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Additional resources</h6>
    <a class="dropdown-item" href="../articles/datasets.html">Datasets</a>
    <a class="dropdown-item" href="../articles/report-template.html">Report template</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/osparcomm/HARSAT/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Reference table file formats</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/osparcomm/HARSAT/blob/HEAD/vignettes/reference-file-formats.Rmd" class="external-link"><code>vignettes/reference-file-formats.Rmd</code></a></small>
      <div class="d-none name"><code>reference-file-formats.Rmd</code></div>
    </div>

    
    
<p>These are the column headers for CSV-formatted reference table files.
<code>harsat</code> uses three different reference tables:</p>
<ol style="list-style-type: decimal">
<li>A species file</li>
<li>A determinand file</li>
<li>A threshold file</li>
</ol>
<p>All these files should be in your information files directory.</p>
<p>Do not use any forward or backward slashes in the reference
files.</p>
<p>The order of the columns does not matter, as long as they are named
consistently with the specification below.</p>
<div class="section level2">
<h2 id="species-file-format">Species file format<a class="anchor" aria-label="anchor" href="#species-file-format"></a>
</h2>
<p>The species file will be <code>species.csv</code> in your information
files directory.</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="14%">
<col width="14%">
<col width="16%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>column name</th>
<th>type</th>
<th align="center">mandatory</th>
<th align="center">NA allowed</th>
<th>comments</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>reference_species</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>Reference species name (usually its Latin name)</td>
</tr>
<tr class="even">
<td><code>submitted_species</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>Submitted species name: sometimes the same species can have several
Latin names, but these are all mapped to the
<code>reference_species</code> name</td>
</tr>
<tr class="odd">
<td><code>common_name</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>Common name for the species: you can call them whatever you
want</td>
</tr>
<tr class="even">
<td><code>species_group</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>Species group, should be one of: <code>Bird</code>,
<code>Bivalve</code>, <code>Crustacean</code>, <code>Echinoderm</code>,
<code>Fish</code>, <code>Gastropod</code>, <code>Macrophyte</code>,
<code>Mammal</code>, <code>Other</code>
</td>
</tr>
<tr class="odd">
<td><code>species_subgroup</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>This is a convenience column used for matching species to
thresholds. For example, OSPAR sometimes has different thresholds for
mussels and oysters, so these form convenient subgroups. You can call
things what you want, provided they match any reference to the
species_subgroup column in the threshold file. If you don’t need this
facility, use the <code>species_group</code> value</td>
</tr>
<tr class="even">
<td><code>assess</code></td>
<td>boolean</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>Whether or not to include this species in the assessment, should be
either <code>TRUE</code> or <code>FALSE</code>
</td>
</tr>
<tr class="odd">
<td><code>MU_drywt</code></td>
<td>numeric</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>Muscle dry weight (%). A typical value for the species. This is only
needed if you want to convert thresholds from one basis to another.
Leave cells blank if you do not have a suitable value.</td>
</tr>
<tr class="even">
<td><code>LI_drywt</code></td>
<td>numeric</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>Liver dry weight (%). See above.</td>
</tr>
<tr class="odd">
<td><code>SB_drywt</code></td>
<td>numeric</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>Soft body dry weight (%)</td>
</tr>
<tr class="even">
<td><code>EH_drywt</code></td>
<td>numeric</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>Egg homogenate dry weight (%)</td>
</tr>
<tr class="odd">
<td><code>MU_lipidwt</code></td>
<td>numeric</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>Muscle lipid weight (%)</td>
</tr>
<tr class="even">
<td><code>LI_lipidwt</code></td>
<td>numeric</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>Liver lipid weight (%)</td>
</tr>
<tr class="odd">
<td><code>SB_lipidwt</code></td>
<td>numeric</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>Soft body lipid weight (%)</td>
</tr>
<tr class="even">
<td><code>EH_lipidwt</code></td>
<td>numeric</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>Egg homogenate lipid weight (%)</td>
</tr>
</tbody>
</table>
<p>You can have as many dry and lipid weight columns as you have tissue
types. For example, if you have blood (BL) data, then you can have
columns <code>BL_drywt</code> and <code>BL_lipidwt</code>. (Remember
there is a difference between BL (blood) and ER (erythrocytes - red
blood cells in vertebrates). You can also omit all these columns if you
don’t need to convert thresholds from basis to another.</p>
</div>
<div class="section level2">
<h2 id="determinand-file-format">Determinand file format<a class="anchor" aria-label="anchor" href="#determinand-file-format"></a>
</h2>
<p>The determinand file will be <code>determinand.csv</code> in your
information files directory.</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="14%">
<col width="14%">
<col width="16%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>column name</th>
<th>type</th>
<th align="center">mandatory</th>
<th align="center">NA allowed</th>
<th>comments</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>determinand</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>Determinand code – this is a key to the thresholds file records and
will usually be the ICES PARAM code</td>
</tr>
<tr class="even">
<td><code>common_name</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>Common name for the determinand, e.g., <code>Aluminium</code>,
<code>Glyphosate</code>. You can call them whatever you want. If
missing, the determinand code is used.</td>
</tr>
<tr class="odd">
<td><code>pargroup</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>ICES parameter group reference code, e.g. <code>I-MET</code>,
<code>O-PAH</code>, <code>OC-CB</code>, <code>OC-DD</code>, etc. (see:
<a href="https://vocab.ices.dk/?ref=78" class="external-link uri">https://vocab.ices.dk/?ref=78</a>)</td>
</tr>
<tr class="even">
<td><code>biota_group</code></td>
<td>character</td>
<td align="center">yes*</td>
<td align="center">yes</td>
<td>Grouping for a biota assessment (under development): currently one
of <code>Metals</code>, <code>PAH_parent</code>,
<code>PAH_alkylated</code>, <code>Chlorobiphenyls</code>,
<code>PBDEs</code>, <code>Organobromines</code>,
<code>Organotins</code>, <code>Organochlorines</code>,
<code>Organofluorines</code>, <code>Pesticides</code>,
<code>Dioxins</code>, <code>Effects</code>, <code>Auxiliary</code>,
<code>Metabolites</code>, or <code>Imposex</code>. Missing values are
only allowed for determinands that will not be used (in any way).</td>
</tr>
<tr class="odd">
<td><code>sediment_group</code></td>
<td>character</td>
<td align="center">yes*</td>
<td align="center">yes</td>
<td>Grouping for a sediment assessment. See biota_group for allowable
values and additional comments. Note that normalisers, such as AL or
CORG, should be classed as <code>Auxiliary</code>
</td>
</tr>
<tr class="even">
<td><code>water_group</code></td>
<td>character</td>
<td align="center">yes*</td>
<td align="center">yes</td>
<td>Grouping for a water assessment. See biota_group for allowable
values and additional comments.</td>
</tr>
<tr class="odd">
<td><code>biota_assess</code></td>
<td>boolean</td>
<td align="center">yes*</td>
<td align="center">no</td>
<td>Whether the determinand is to be assessed: should be either
<code>TRUE</code> or <code>FALSE</code>. For the time being,
<code>Auxiliary</code> determinands must be set to ‘FALSE’</td>
</tr>
<tr class="even">
<td><code>sediment_assess</code></td>
<td>boolean</td>
<td align="center">yes*</td>
<td align="center">no</td>
<td>Whether the determinand is to be assessed. See biota_assess for more
details</td>
</tr>
<tr class="odd">
<td><code>water_assess</code></td>
<td>boolean</td>
<td align="center">yes*</td>
<td align="center">no</td>
<td>Whether the determinand is to be assessed. See biota_assess for more
details</td>
</tr>
<tr class="even">
<td><code>biota_unit</code></td>
<td>character</td>
<td align="center">yes*</td>
<td align="center">yes</td>
<td>The unit that all measurements will be converted to in a biota
assessment; e.g. <code>ug/kg</code>. Missing values are only allowed for
determinands that will not be used.</td>
</tr>
<tr class="odd">
<td><code>sediment_unit</code></td>
<td>character</td>
<td align="center">yes*</td>
<td align="center">yes</td>
<td>The unit that all measurements will be converted to in a sediment
assessment; e.g. <code>mg/kg</code>. Missing values are only allowed for
determinands that will not be used.</td>
</tr>
<tr class="even">
<td><code>water_unit</code></td>
<td>character</td>
<td align="center">yes*</td>
<td align="center">yes</td>
<td>The unit that all measurements will be converted to in a water
assessment, e.g. <code>ug/l</code>. Missing values are only allowed for
determinands that will not be used.</td>
</tr>
<tr class="odd">
<td><code>biota_auxiliary</code></td>
<td>character</td>
<td align="center">yes*</td>
<td align="center">yes</td>
<td>Identifies all the auxiliary measurements that should be associated
with the determinand. These should be separated by a <code>~</code>. For
example, for chemical contaminants, this might be
‘DRYWT%<sub>LIPIDWT%</sub>LNMEA’. The list gets more interesting for
effects measurements.</td>
</tr>
<tr class="even">
<td><code>sediment_auxiliary</code></td>
<td>character</td>
<td align="center">yes*</td>
<td align="center">yes</td>
<td>Identifies all the auxiliary measurements that should be associated
with the determinand. These should be separated by a <code>~</code>. For
example, for metal contaminants, this might be
‘AL<sub>LI</sub>CORG’</td>
</tr>
<tr class="odd">
<td><code>water_auxiliary</code></td>
<td>character</td>
<td align="center">yes”</td>
<td align="center">yes</td>
<td>Identifies all the auxiliary measurements that should be associated
with the determinand. These should be separated by a <code>~</code>. Not
currently used much for water assessments</td>
</tr>
<tr class="even">
<td><code>biota_sd_constant</code></td>
<td>character</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>If supplied, this allows the imputation of measurement uncertainty
for determinands in a biota assessment when they are missing from the
data file. <code>sd_constant</code> is the constant error with units
given by <code>biota_unit</code>
</td>
</tr>
<tr class="odd">
<td><code>biota_sd_variable</code></td>
<td>character</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>If supplied, this allows the imputation of measurement uncertainty
for determinands in a biota assessment when they are missing from the
data file. <code>sd_constant</code> is the proportional error expressed
as a percentage (%)</td>
</tr>
<tr class="even">
<td><code>sediment_sd_constant</code></td>
<td>character</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>See <code>biota_sd_constant</code>
</td>
</tr>
<tr class="odd">
<td><code>sediment_sd_variable</code></td>
<td>character</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>See <code>biota_sd_variable</code>
</td>
</tr>
<tr class="even">
<td><code>water_sd_constant</code></td>
<td>character</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>See <code>biota_sd_constant</code>
</td>
</tr>
<tr class="odd">
<td><code>water_sd_variable</code></td>
<td>character</td>
<td align="center">no</td>
<td align="center">yes</td>
<td>See <code>biota_sd_variable</code>
</td>
</tr>
<tr class="even">
<td><code>distribution</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>A distribution type; for chemical contaminants, this should be set
to <code>lognormal</code>. Only required for determinands where at least
one of <code>biota_assess</code>, <code>sediment_assess</code> or
<code>water_assess</code> are <code>TRUE</code>
</td>
</tr>
<tr class="odd">
<td><code>good_status</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>Whether <code>high</code> or <code>low</code> values of the
determinand indicates a healthy environment. Only required for
determinands where at least one of <code>biota_assess</code>,
<code>sediment_assess</code> or <code>water_assess</code> are
<code>TRUE</code>
</td>
</tr>
</tbody>
</table>
<p>A yes* in the mandatory column means that
e.g. <code>biota_group</code>, <code>biota_assess</code> etc. are
mandatory for a biota assessment, but can be omitted if there is only
going to be a sediment and water assessment.</p>
</div>
<div class="section level2">
<h2 id="threshold-file-format">Threshold file format<a class="anchor" aria-label="anchor" href="#threshold-file-format"></a>
</h2>
<p>The threshold files are compartment-specific and will be called
<code>threshold_biota.csv</code>, <code>threshold_sediment.csv</code>
and <code>threshold_water.csv</code>. The format of each differs
somewhat, but the principle is the same: they provide the threshold
values for each determinand. For biota, the threshold values are linked
to a particular <code>species_group</code>,
<code>species_subgroup</code> or <code>reference_species</code> (see the
species file format) and to other supporting variables such as
<code>matrix</code> (tissue type). For sediment, the threshold values
can (optionally) be linked to one of the regional variables in the
stations file. For water, the threshold values ar linked to
<code>filtration</code>. The water file is the simplest, so we describe
that first.</p>
<div class="section level3">
<h3 id="water-threshold-files">Water threshold files<a class="anchor" aria-label="anchor" href="#water-threshold-files"></a>
</h3>
<p>The water threshold file will be <code>thresholds_water.csv</code> in
your information files directory. For illustration, suppose there is
just one threshold, the EQS. The thresholds file will then have the
following four columns:</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="14%">
<col width="14%">
<col width="16%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>column name</th>
<th>type</th>
<th align="center">mandatory</th>
<th align="center">NA allowed</th>
<th>comments</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>determinand</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>The determinand code, which must key to the determinand file</td>
</tr>
<tr class="even">
<td><code>filtration</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>A string, either <code>filtered</code> or
<code>unfiltered</code>.</td>
</tr>
<tr class="odd">
<td><code>EQS_basis</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The basis on which the EQS is expressed: for water this will always
be <code>W</code>. The basis must always be given if there is an EQS
value in the next column.</td>
</tr>
<tr class="even">
<td><code>EQS</code></td>
<td>numeric</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The value of the EQS. The units must key to the
<code>water_units</code> column in the determinand file</td>
</tr>
</tbody>
</table>
<p>If there is another threshold, for example, the BAC, then add two
columns called <code>BAC_basis</code> and <code>BAC</code>. You can have
as many thresholds as you want.</p>
<p>If, for a particular determinand, the same (set of) threshold
value(s) is to be applied to both <code>filtered</code> and
<code>unfiltered</code> time series, then set <code>filtration</code> to
<code>filtered~unfiltered</code>.</p>
</div>
<div class="section level3">
<h3 id="sediment-threshold-files">Sediment threshold files<a class="anchor" aria-label="anchor" href="#sediment-threshold-files"></a>
</h3>
<p>The sediment threshold file will be
<code>thresholds_sediment.csv</code> in your information files
directory. For illustration, suppose there are two thresholds, the BAC
and EAC. The threshold file will then have the following five
columns:</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="14%">
<col width="14%">
<col width="16%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>column name</th>
<th>type</th>
<th align="center">mandatory</th>
<th align="center">NA allowed</th>
<th>comments</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>determinand</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>The determinand code, which must key to the determinands file</td>
</tr>
<tr class="even">
<td><code>BAC_basis</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The basis on which the BAC is expressed: for sediment this will
always be <code>D</code>. This must always be provided if there is a BAC
value.</td>
</tr>
<tr class="odd">
<td><code>EAC_basis</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The basis on which the EAC is expressed. See above.</td>
</tr>
<tr class="even">
<td><code>BAC</code></td>
<td>numeric</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The value of the BAC. The units much key to the
<code>sediment_units</code> column in the determinand file. The units
are also assumed to be normalised for grain size in the same way as the
data are normalised (in create_timeseries).</td>
</tr>
<tr class="odd">
<td><code>EAC</code></td>
<td>numeric</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The value of the EAC. See above.</td>
</tr>
</tbody>
</table>
<p>Again, you can have as many thresholds as you want. For example,
OSPAR assessments typically use the ERL, EQS and FEQG in addition to the
BAC and EAC.</p>
<p>You can also have extra columns that match columns in the station
dictionary. Typically, these will be used to apply different threshold
values to different regions. For example, the OSPAR threshold file has a
column <code>ospar_subregion</code>, which allows one set of threshold
values to be applied in the Iberian Coast and Gulf of Cadiz and another
set to be applied in the rest of the OSPAR area.</p>
</div>
<div class="section level3">
<h3 id="biota-threshold-files">Biota threshold files<a class="anchor" aria-label="anchor" href="#biota-threshold-files"></a>
</h3>
<p>The biota threshold file will be <code>thresholds_biota.csv</code> in
your information files directory. Again, suppose there are two
thresholds, the BAC and EAC. The threshold file will then have the
following eleven columns:</p>
<table class="table">
<colgroup>
<col width="20%">
<col width="14%">
<col width="14%">
<col width="16%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>column name</th>
<th>type</th>
<th align="center">mandatory</th>
<th align="center">NA allowed</th>
<th>comments</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>determinand</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>The determinand code, which must key to the determinands file</td>
</tr>
<tr class="even">
<td><code>species_group</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>The species group, a key to the <code>species.csv</code> file</td>
</tr>
<tr class="odd">
<td><code>species_subgroup</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>The species subgroup, a key to the <code>species.csv</code>
file</td>
</tr>
<tr class="even">
<td><code>species</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The species, a key to the <code>species.csv</code> file (and
specifically the <code>reference_species</code> column)</td>
</tr>
<tr class="odd">
<td><code>matrix</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">no</td>
<td>The tissue type (ICES code); for example <code>EH</code>,
<code>MU</code>, <code>SB</code>. If the threshold can be applied to
multiple tissues then provide all the relevant tissues separated by a
tilde. For example, <code>LI~MU~SB</code>.</td>
</tr>
<tr class="even">
<td><code>method_analysis</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The method of analysis (ICES code). Only provide values for PAH
metabolites, otherwise leave blank.</td>
</tr>
<tr class="odd">
<td><code>sex</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The sex (ICES code). Only provide for EROD, otherwise leave
blank.</td>
</tr>
<tr class="even">
<td><code>BAC_basis</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The basis on which the BAC is expressed. For contaminants, this will
either be <code>W</code>, <code>D</code> or <code>L</code> and must be
provided if there is a BAC value. Leave blank for effects.</td>
</tr>
<tr class="odd">
<td><code>EAC_basis</code></td>
<td>character</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The basis on which the EAC is expressed. See above.</td>
</tr>
<tr class="even">
<td><code>BAC</code></td>
<td>numeric</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The value of the BAC. The units must key to the
<code>biota_units</code> column in the determinand file.</td>
</tr>
<tr class="odd">
<td><code>EAC</code></td>
<td>numeric</td>
<td align="center">yes</td>
<td align="center">yes</td>
<td>The value of the EAC. See above.</td>
</tr>
</tbody>
</table>
<p>The columns <code>species_group</code>,
<code>species_subgroup</code>, and <code>species</code> are used to
provide flexibility in matching thresholds to species. For some
determinands, a threshold is applied to all species in a species group,
in which case the <code>species_group</code> column should be populated.
For other determinands, threshold values might differ between species
subgroups (e.g. between mussels and oysters), in which ase the
<code>species_subgroup</code> column should be populated. Use the
<code>species</code> column if the threshold value is species-specific.
At least one of <code>species_group</code>,
<code>species_subgroup</code> and <code>species</code> must always be
provided.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Arctic Monitoring and Assessment Programme (AMAP), Helsinki Commission (HELCOM), OSPAR Commission (OSPAR), International Council for the Exploration of the Sea (ICES), AmbieSense Ltd.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p><a href="https://creativecommons.org/licenses/by/4.0/" class="external-link"><img class="cc-badge" src="http://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png"></a></p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
