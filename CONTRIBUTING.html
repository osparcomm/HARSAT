<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contributor’s Guide • harsat</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet"><meta property="og:title" content="Contributor’s Guide"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">harsat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="articles/harsat.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Data file management</h6>
    <a class="dropdown-item" href="articles/file-management.html">File locations</a>
    <a class="dropdown-item" href="articles/reference-file-formats.html">Reference file formats</a>
    <a class="dropdown-item" href="articles/external-file-format.html">External file format</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Examples</h6>
    <a class="dropdown-item" href="articles/example_HELCOM.html">HELCOM (read first)</a>
    <a class="dropdown-item" href="articles/example_OSPAR.html">OSPAR</a>
    <a class="dropdown-item" href="articles/example_external_data.html">AMAP external data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Additional resources</h6>
    <a class="dropdown-item" href="articles/datasets.html">Datasets</a>
    <a class="dropdown-item" href="articles/report-template.html">Report template</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/osparcomm/HARSAT/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Contributor’s Guide</h1>
      <small class="dont-index">Source: <a href="https://github.com/osparcomm/HARSAT/blob/HEAD/CONTRIBUTING.md" class="external-link"><code>CONTRIBUTING.md</code></a></small>
    </div>

<div id="contributors-guide" class="section level1">

<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a></h2>
<div class="section level3">
<h3 id="issues">Issues<a class="anchor" aria-label="anchor" href="#issues"></a></h3>
<p>You can report issues with <code>harsat</code> using Github. Simply use the <strong>Issues</strong> tab and choose <strong>New issue</strong>.</p>
<p>If you report an issue, we’d like you to answer the following questions.</p>
<ol style="list-style-type: decimal"><li>What version of <code>harsat</code> are you using? (It’s in the <code>DESCRIPTION</code> file)</li>
<li>What version of R are you using?</li>
<li>What operating system are you using?</li>
<li>What are you observing that appears to be incorrect, and what are you expecting to see?</li>
</ol><p>On this last point, the more information you can give us, the better. If you can copy and paste R console logs that helps tremendously, but if they’re more than 30 lines or so, it’s better to attach them as a file, rather than pasting them into the issue directly.</p>
</div>
<div class="section level3">
<h3 id="pull-requests">Pull requests<a class="anchor" aria-label="anchor" href="#pull-requests"></a></h3>
<p>We welcome pull requests. The easiest way to do this is to fork the repository on Github, make the changes you want in your fork, push them to Github, and create a pull request using its web interface. This will then be sent to the <a href="link%20to:%20CODEOWNERS">CODEOWNERS</a> for review and the pull request approved/rejected as appropriate.</p>
</div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h2>
<p>All documentation is held within the Github repository. We use the following flow.</p>
<ol style="list-style-type: decimal"><li>
<code>roxygen2</code> is used for source-code documentation.</li>
<li>We have several vignettes in the <code>vignettes</code> directory. Some run <code>harsat</code> code (the ones matching <code>*.Rmd.orig</code>) and are therefore <em>precompiled</em>, because they can take 15-20 minutes to run. That turns <code>*.Rmd.orig</code> into corresponding <code>*.Rmd</code> files. Then, the normal documentation building for vignettes on installation will deploy these files, along with the basic <code>*.Rmd</code> vignettes that do not run <code>harsat</code> code.</li>
<li>A web site is built using <code>pkgdown</code> – this happens automatically when pull requests are merged to main. This documents the code <em>as is</em> – it does not run <code>roxygen2</code> – if you need to do that, you should do it manually.</li>
<li>When we push to <code>main</code>, the web documentation is used to update our GitHub Pages site: <a href="https://osparcomm.github.io/HARSAT/" class="external-link uri">https://osparcomm.github.io/HARSAT/</a> – this should happen automatically if you use a <code>git flow</code> style release process.</li>
</ol><p>Note that the <code>pkgdown</code> action – stored in Github under <code>.github/workflows/pkgdown.yaml</code> also creates zip files for some of the more common data and configuration setups. These are then copied for deployment through Github Pages, so they can be downloaded directly from the web pages. The actions which drive this zipping require a little care, although they will continue to work fine if you simply change files in the data and reference file directories.</p>
<div class="section level3">
<h3 id="documentation-build-process">Documentation build process<a class="anchor" aria-label="anchor" href="#documentation-build-process"></a></h3>
<p>The documentation is not entirely built automatically. This is intentional, as, for example, running some of the tools (e.g., <code>roxygen2</code>) can change key package files in a breaking way. Also, some of the vignettes are pre-rendered, so they do not take a long time to install for users.</p>
<p>To update the documentation, use the following steps in R. This does change the namespacing, so API changes can cause the vignette builds to break. If so, create an issue.</p>
<p><strong>Step 1. Run roxygen2</strong></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu">roxygen2</span><span class="fu">::</span><span class="fu">roxygenize</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Step 2. Precompile the vignettes</strong></p>
<p>And then from bash:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">R</span> <span class="at">--quiet</span> <span class="at">--vanilla</span> <span class="op">&lt;</span> vignettes/precompile.R</span></code></pre></div>
<p><strong>Step 3. Build and check the code</strong></p>
<p>Back to R:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="release-process">Release process<a class="anchor" aria-label="anchor" href="#release-process"></a></h3>
<p>The release process is more or less as follows. This is adapted from <a href="https://stackoverflow.com/a/45064206" class="external-link">this Stack Overflow answer</a>.</p>
<p>Let’s assume the current version is <code>x.y.z</code></p>
<pre><code>git checkout develop
git flow release start x.y.z+1
emacs DESCRIPTION     ## Update version x.y.z-9000 -&gt; x.y.z+1
emacs CHANGES.md      ## Update the change log, as appropriate
R --quiet --vanilla &lt; vignettes/precompile.R
R CMD build .
R CMD check --no-manual harsat_x.y.z+1.tar.gz
git add DESCRIPTION
git commit -m "Updated version to x.y.z+1
git flow release finish x.y.z+1
git checkout main
git push
git push --tags
git push upstream
git push --tags upstream
git checkout develop
emacs DESCRIPTION      ## Bump version to x.y.(z+1)-9000
git commit -am "Bump develop version [ci skip]"
git push
git push upstream</code></pre>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Arctic Monitoring and Assessment Programme (AMAP), Helsinki Commission (HELCOM), OSPAR Commission (OSPAR), International Council for the Exploration of the Sea (ICES), AmbieSense Ltd.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p><a href="https://creativecommons.org/licenses/by/4.0/" class="external-link"><img class="cc-badge" src="http://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png"></a></p>
</div>

    </footer></div>

  

  

  </body></html>

